(()=>{document.addEventListener("DOMContentLoaded",()=>{p()});function p(){let r=document.querySelector(".js-form"),n=r.querySelector("#confirm");function m(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(i){return t[i]})}class s{constructor(t,{patternMismatch:i=!1,rangeOverflow:a=!1,rangeUnderflow:c=!1,stepMismatch:h=!1,tooLong:l=!1,tooShort:u=!1,typeMismatch:f=!1,valueMissing:d=!1}){this.form=document.querySelector(".js-form"),this.name=t,this.patternMismatchMessage=i,this.rangeOverflowMessage=a,this.rangeUnderflowMessage=c,this.stepMismatchMessage=h,this.tooLongMessage=l,this.tooShortMessage=u,this.typeMismatchMessage=f,this.valueMissingMessage=d,this.input=this.form.querySelector(`#${this.name}`),this.error=this.form.querySelector(`.js-form-error-${this.name}`),this._init()}_confirm(){this.input.validity.valid?(this.input.classList.remove("is-error"),this.input.classList.add("is-success"),this.error.textContent=""):this.input.validity.rangeOverflow?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.rangeOverflowMessage):this.input.validity.rangeUnderflow?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.rangeUnderflowMessage):this.input.validity.stepMismatch?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.stepMismatchMessage):this.input.validity.tooLong?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.tooLongMessage):this.input.validity.tooShort?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.tooShortMessage):this.input.validity.patternMismatch?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.patternMismatchMessage):this.input.validity.typeMismatch?(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.typeMismatchMessage):this.input.validity.valueMissing&&(this.input.classList.remove("is-success"),this.input.classList.add("is-error"),this.error.textContent=this.valueMissingMessage)}_init(){n.addEventListener("click",()=>{this.form.checkValidity()||this._confirm()}),this.input.type==="checkbox"?this.input.addEventListener("change",()=>{this._confirm()}):this.input.addEventListener("blur",()=>{this._confirm()})}}new s("fmail",{typeMismatch:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u5F62\u5F0F\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044",patternMismatch:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u5F62\u5F0F\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044",valueMissing:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}),new s("fname01",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"}),new s("fname02",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"}),new s("fyomi01",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"}),new s("fyomi02",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"}),new s("ftel",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"}),new s("fprivacy",{valueMissing:"\u5FC5\u9808\u9805\u76EE\u3067\u3059"});let o=document.querySelectorAll(".js-form-item"),g=r.getBoundingClientRect().top+window.pageYOffset-200;n.addEventListener("click",e=>{if(!r.checkValidity()){let i=r.querySelector(".is-error").getBoundingClientRect().top+window.pageYOffset-200;window.scrollTo(0,i)}}),o.forEach(e=>{e.addEventListener("keypress",t=>{e.name!=="fcontent"&&t.keyCode===13&&t.preventDefault()})})}})();
